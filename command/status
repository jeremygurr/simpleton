#!/usr/bin/env bash

output_status() {
  begin_function
    local indent=${indent:-0}

    out -n "${WHITE}Cell: $short_cell${RESET}"

  end_function
  handle_return
}

status_command() {
  begin_function

    local cell_path=${cell_path:-}

    switch_context $cell_path || {
      log_fatal "Context failed to load for $short_cell"
      fail1
    }
    setup_dims || fail
    calc_coords || fail

    coord_type=branch \
    target_dim_var_type=ddim \
    convert_coords_to_dims || fail

    output_status

    command_successful=t

  end_function
  handle_return
}

