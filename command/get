#!/usr/bin/env bash

get_command() {
  begin_function
    if function_exists get_op; then
      execute_op get || fail
    else
      local get_show_file=${get_show_file:-}
      if [[ ! "$get_show_file" ]]; then
        begin_for f in $(find1 $out_path/auto -name "data.*"); doo
        end_for
        if [[ $multi_cell == t ]]; then
          out "$short_cell: $(<$out_path/value)"
        else
          out "$(<$out_path/value)"
        fi
      else
        if [[ $cell_is_leaf == t || $show_branches == t ]]; then
          log_warn "$short_cell: No cached value."
        fi
      fi
    else
      if [[ $cell_is_leaf == t || $show_branches == t ]]; then
        log_debug "$short_cell: No out_path defined."
      fi
    fi
  end_function
  handle_return
}
